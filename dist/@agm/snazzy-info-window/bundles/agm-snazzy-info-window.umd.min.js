!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@agm/core")):"function"==typeof define&&define.amd?define("@agm/snazzy-info-window",["exports","@angular/core","@agm/core"],t):t(((e=e||self).ngmaps=e.ngmaps||{},e.ngmaps.snazzyInfoWindow={}),e.ng.core,e.ngmaps.core)}(this,function(e,t,n){"use strict";function o(e,t,n,o){var i,p=arguments.length,r=p<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(p<3?i(r):p>3?i(t,n,r):i(t,n))||r);return p>3&&r&&Object.defineProperty(t,n,r),r}function i(e,t){return function(n,o){t(n,o,e)}}function p(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var r=function(){function e(e,n,o,i){this._marker=e,this._wrapper=n,this._manager=o,this._loader=i,this.isOpen=!1,this.isOpenChange=new t.EventEmitter,this.placement="top",this.maxWidth=200,this.maxHeight=200,this.openOnMarkerClick=!0,this.closeOnMapClick=!0,this.closeWhenOthersOpen=!1,this.showCloseButton=!0,this.panOnOpen=!0,this.beforeOpen=new t.EventEmitter,this.afterClose=new t.EventEmitter,this._snazzyInfoWindowInitialized=null}return e.prototype.ngOnChanges=function(e){null!=this._nativeSnazzyInfoWindow&&("isOpen"in e&&this.isOpen?this._openInfoWindow():"isOpen"in e&&!this.isOpen&&this._closeInfoWindow(),("latitude"in e||"longitude"in e)&&null==this._marker&&this._updatePosition())},e.prototype.ngAfterViewInit=function(){var e=this,t=null!=this._manager?this._manager.getNativeMarker(this._marker):null;this._snazzyInfoWindowInitialized=this._loader.load().then(function(){return require("snazzy-info-window")}).then(function(n){return Promise.all([n,t,e._wrapper.getNativeMap()])}).then(function(t){var n={map:t[2],content:"",placement:e.placement,maxWidth:e.maxWidth,maxHeight:e.maxHeight,backgroundColor:e.backgroundColor,padding:e.padding,border:e.border,borderRadius:e.borderRadius,fontColor:e.fontColor,pointer:e.pointer,shadow:e.shadow,closeOnMapClick:e.closeOnMapClick,openOnMarkerClick:e.openOnMarkerClick,closeWhenOthersOpen:e.closeWhenOthersOpen,showCloseButton:e.showCloseButton,panOnOpen:e.panOnOpen,wrapperClass:e.wrapperClass,callbacks:{beforeOpen:function(){e._createViewContent(),e.beforeOpen.emit()},afterOpen:function(){e.isOpenChange.emit(e.openStatus())},afterClose:function(){e.afterClose.emit(),e.isOpenChange.emit(e.openStatus())}}};null!=t[1]?n.marker=t[1]:n.position={lat:e.latitude,lng:e.longitude},e._nativeSnazzyInfoWindow=new t[0](n)}),this._snazzyInfoWindowInitialized.then(function(){e.isOpen&&e._openInfoWindow()})},e.prototype._openInfoWindow=function(){var e=this;this._snazzyInfoWindowInitialized.then(function(){e._createViewContent(),e._nativeSnazzyInfoWindow.open()})},e.prototype._closeInfoWindow=function(){var e=this;this._snazzyInfoWindowInitialized.then(function(){e._nativeSnazzyInfoWindow.close()})},e.prototype._createViewContent=function(){if(1!==this._viewContainerRef.length){var e=this._viewContainerRef.createEmbeddedView(this._templateRef);this._nativeSnazzyInfoWindow.setContent(this._outerWrapper.nativeElement),setTimeout(function(){e.detectChanges()})}},e.prototype._updatePosition=function(){this._nativeSnazzyInfoWindow.setPosition({lat:this.latitude,lng:this.longitude})},e.prototype.openStatus=function(){return this._nativeSnazzyInfoWindow&&this._nativeSnazzyInfoWindow.isOpen()},e.prototype.ngOnDestroy=function(){this._nativeSnazzyInfoWindow&&this._nativeSnazzyInfoWindow.destroy()},o([t.Input(),p("design:type",Number)],e.prototype,"latitude",void 0),o([t.Input(),p("design:type",Number)],e.prototype,"longitude",void 0),o([t.Input(),p("design:type",Object)],e.prototype,"isOpen",void 0),o([t.Output(),p("design:type",t.EventEmitter)],e.prototype,"isOpenChange",void 0),o([t.Input(),p("design:type",String)],e.prototype,"placement",void 0),o([t.Input(),p("design:type",Object)],e.prototype,"maxWidth",void 0),o([t.Input(),p("design:type",Object)],e.prototype,"maxHeight",void 0),o([t.Input(),p("design:type",String)],e.prototype,"backgroundColor",void 0),o([t.Input(),p("design:type",String)],e.prototype,"padding",void 0),o([t.Input(),p("design:type",Object)],e.prototype,"border",void 0),o([t.Input(),p("design:type",String)],e.prototype,"borderRadius",void 0),o([t.Input(),p("design:type",String)],e.prototype,"fontColor",void 0),o([t.Input(),p("design:type",String)],e.prototype,"fontSize",void 0),o([t.Input(),p("design:type",Object)],e.prototype,"pointer",void 0),o([t.Input(),p("design:type",Object)],e.prototype,"shadow",void 0),o([t.Input(),p("design:type",Object)],e.prototype,"openOnMarkerClick",void 0),o([t.Input(),p("design:type",Object)],e.prototype,"closeOnMapClick",void 0),o([t.Input(),p("design:type",String)],e.prototype,"wrapperClass",void 0),o([t.Input(),p("design:type",Object)],e.prototype,"closeWhenOthersOpen",void 0),o([t.Input(),p("design:type",Object)],e.prototype,"showCloseButton",void 0),o([t.Input(),p("design:type",Object)],e.prototype,"panOnOpen",void 0),o([t.Output(),p("design:type",t.EventEmitter)],e.prototype,"beforeOpen",void 0),o([t.Output(),p("design:type",t.EventEmitter)],e.prototype,"afterClose",void 0),o([t.ViewChild("outerWrapper",{read:t.ElementRef,static:!1}),p("design:type",t.ElementRef)],e.prototype,"_outerWrapper",void 0),o([t.ViewChild("viewContainer",{read:t.ViewContainerRef,static:!1}),p("design:type",t.ViewContainerRef)],e.prototype,"_viewContainerRef",void 0),o([t.ContentChild(t.TemplateRef,{static:!1}),p("design:type",t.TemplateRef)],e.prototype,"_templateRef",void 0),e=o([t.Component({selector:"agm-snazzy-info-window",template:"<div #outerWrapper><div #viewContainer></div></div><ng-content></ng-content>"}),i(0,t.Optional()),i(0,t.Host()),i(0,t.SkipSelf()),p("design:paramtypes",[n.AgmMarker,n.GoogleMapsAPIWrapper,n.MarkerManager,n.MapsAPILoader])],e)}(),a=function(){function e(){}return e=o([t.NgModule({declarations:[r],exports:[r]})],e)}();e.AgmSnazzyInfoWindow=r,e.AgmSnazzyInfoWindowModule=a,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=agm-snazzy-info-window.umd.min.js.map